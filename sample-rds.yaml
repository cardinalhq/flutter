duration: 30m
seed: 1746030689
script:
  # CPUUtilization.max
  - type: metricGenerator
    name: cpuRamp
    spec:
      type: ramp
      target: 25
      duration: 10s
  - type: metricGenerator
    name: cpuRandom
    spec:
      type: gaussianNoise
      target: 0
      stdDev: 2.6
      variation: 8
  - type: metric
    name: CPUUtilization.max
    spec:
      attributes:
        resource:
          cloud.account.id: 123456789012
          cloud.provider: aws
          cloud.region: us-east-1
          DatabaseClass: db.r6g.large
          DBClusterIdentifier: koda
          DBInstanceIdentifier: koda-0
          EngineName: aurora-postgresql
          Role: WRITER
          service.name: koda-0
          service.namespace: AWS
      type: gauge
      frequency: 60s
      generators:
        - cpuRamp
        - cpuRandom
  # Deadlocks.max
  - type: metricGenerator
    name: deadlockRamp
    spec:
      type: ramp
      target: 0.0
      duration: 10s
  - type: metricGenerator
    name: deadlockRandom
    spec:
      type: gaussianNoise
      target: 0
      variation: 0
  - type: metric
    name: Deadlocks.max
    spec:
      attributes:
        resource:
          cloud.account.id: 123456789012
          cloud.provider: aws
          cloud.region: us-east-1
          DatabaseClass: db.r6g.large
          DBClusterIdentifier: koda
          DBInstanceIdentifier: koda-0
          EngineName: aurora-postgresql
          Role: WRITER
          service.name: koda-0
          service.namespace: AWS
      type: gauge
      frequency: 60s
      generators:
        - deadlockRamp
        - deadlockRandom
  # CommitLatency.max
  - type: metricGenerator
    name: latencyRamp
    spec:
      type: ramp
      target: 0.25
      duration: 10s
  - type: metricGenerator
    name: latencyRandom
    spec:
      type: gaussianNoise
      target: 3
      variation: 10
      direction: positive
  - type: metric
    name: CommitLatency.max
    spec:
      attributes:
        resource:
          cloud.account.id: 123456789012
          cloud.provider: aws
          cloud.region: us-east-1
          DatabaseClass: db.r6g.large
          DBClusterIdentifier: koda
          DBInstanceIdentifier: koda-0
          EngineName: aurora-postgresql
          Role: WRITER
          service.name: koda-0
          service.namespace: AWS
      type: gauge
      frequency: 60s
      generators:
        - latencyRamp
        - latencyRandom
